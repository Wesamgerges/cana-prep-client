(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{226:function(e,t,r){var content=r(233);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(30).default)("09430d04",content,!0,{sourceMap:!1})},232:function(e,t,r){"use strict";var n=r(226);r.n(n).a},233:function(e,t,r){(e.exports=r(29)(!1)).push([e.i,".b-table-sticky-header[data-v-40eaaa7e]{overflow-y:visible;max-height:800px}",""])},246:function(e,t,r){"use strict";r.r(t);r(26);var n=r(4),l={data:function(){return{items:[],fields:[{label:"ID",key:"ID",sortable:!0},{label:"Groom",key:"gname",sortable:!0},{label:"Bride",key:"bname",sortable:!0},{label:"Email",key:"user_email",sortable:!0},{label:"1",key:"lectures.1"},{label:"2",key:"lectures.2"},{label:"3",key:"lectures.3"},{label:"4",key:"lectures.4"},{label:"5",key:"lectures.5"},{label:"6",key:"lectures.6"},{label:"7",key:"lectures.7"},{label:"8",key:"lectures.8"},{label:"9",key:"lectures.9"},{label:"10",key:"lectures.10"},{label:"11",key:"lectures.11"},{label:"12",key:"lectures.12"},{key:"bride",label:"Bride"},{key:"groom",label:"Groom"}],totalRows:1,currentPage:1,perPage:50,pageOptions:[25,50,100],sortBy:"ID",sortDesc:!0,filter:null,loading:!1,filterOn:[]}},computed:{sortOptions:function(){return this.fields.filter(function(e){return e.sortable}).map(function(e){return{text:e.label,value:e.key}})}},created:function(){var e=Object(n.a)(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=console,e.next=3,this.$auth.hasScope("admin");case 3:return e.t1=e.sent,e.t0.log.call(e.t0,e.t1),e.next=7,this.$auth.hasScope("admin");case 7:if(e.sent){e.next=9;break}this.$router.push("/");case 9:return e.next=11,this.getDataFromApi();case 11:this.totalRows=this.items.length;case 12:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),methods:{getCertificate:function(){var e=Object(n.a)(regeneratorRuntime.mark(function e(t,r,n){var l;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:l=t.ID+"_CP Certificate "+(n?t.bname:t.gname)+".pdf";try{this.$axios({url:"/certificate/"+t.ID+"/"+n,method:"GET",responseType:"blob"}).then(function(e){var t=window.URL.createObjectURL(new Blob([e.data])),link=document.createElement("a");link.href=t,link.setAttribute("download",l),document.body.appendChild(link),link.click()})}catch(e){console.error(e)}case 2:case"end":return e.stop()}},e,this)}));return function(t,r,n){return e.apply(this,arguments)}}(),onFiltered:function(e){this.totalRows=e.length,this.currentPage=1},getDataFromApi:function(){var e=Object(n.a)(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.loading=!0,e.prev=1,e.next=4,this.$axios("/wpusers");case 4:t=e.sent,this.items=t.data,e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.error(e.t0);case 11:this.loading=!1;case 12:case"end":return e.stop()}},e,this,[[1,8]])}));return function(){return e.apply(this,arguments)}}()}},o=(r(232),r(31)),component=Object(o.a)(l,function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("b-container",{attrs:{fluid:""}},[r("b-row",[r("b-col",{staticClass:"my-1",attrs:{lg:"6"}},[r("b-form-group",{staticClass:"mb-0",attrs:{label:"Search","label-cols-sm":"3","label-align-sm":"right","label-size":"sm","label-for":"filterInput"}},[r("b-input-group",{attrs:{size:"sm"}},[r("b-form-input",{attrs:{type:"search",id:"filterInput",placeholder:"Type to Search"},model:{value:e.filter,callback:function(t){e.filter=t},expression:"filter"}})],1)],1)],1)],1),e._v(" "),r("b-row",[r("b-col",{staticClass:"my-1",attrs:{sm:"4",md:"6"}},[r("b-form-group",{staticClass:"mb-0",attrs:{label:"Per page","label-cols-sm":"6","label-cols-md":"4","label-cols-lg":"3","label-align-sm":"right","label-size":"sm","label-for":"perPageSelect"}},[r("b-form-select",{attrs:{id:"perPageSelect",size:"sm",options:e.pageOptions},model:{value:e.perPage,callback:function(t){e.perPage=t},expression:"perPage"}})],1)],1),e._v(" "),r("b-col",{staticClass:"my-1",attrs:{sm:"7",md:"6"}},[r("b-pagination",{staticClass:"my-0",attrs:{"total-rows":e.totalRows,"per-page":e.perPage,align:"fill",size:"sm"},model:{value:e.currentPage,callback:function(t){e.currentPage=t},expression:"currentPage"}})],1)],1),e._v(" "),r("b-table",{attrs:{"show-empty":"",striped:"",bordered:"",outlined:"",hover:"",responsive:"sm","sort-icon-left":"","sticky-header":"","head-variant":"dark",items:e.items,fields:e.fields,busy:e.loading,"current-page":e.currentPage,"per-page":e.perPage,filter:e.filter,filterIncludedFields:e.filterOn},on:{filtered:e.onFiltered},scopedSlots:e._u([{key:"thead-top",fn:function(data){return[r("b-tr",[r("b-th",{staticClass:"bg-primary text-center",staticStyle:{border:"none"},attrs:{colspan:"4"}},[e._v("User")]),e._v(" "),r("b-th",{staticClass:"bg-primary text-center",staticStyle:{border:"none"},attrs:{colspan:"12"}},[e._v("Lectures")]),e._v(" "),r("b-th",{staticClass:"bg-primary text-center",staticStyle:{border:"none"},attrs:{colspan:"3"}},[e._v("Certificate")])],1)]}},{key:"cell(bride)",fn:function(t){return[r("b-button",{staticClass:"mr-1",attrs:{size:"sm",variant:"danger"},on:{click:function(r){return e.getCertificate(t.item,t.index,1)}}},[e._v("\n        Bride\n      ")])]}},{key:"cell(groom)",fn:function(t){return[r("b-button",{staticClass:"mr-1",attrs:{size:"sm",variant:"primary"},on:{click:function(r){return e.getCertificate(t.item,t.index,0)}}},[e._v("\n        Groom\n      ")])]}}])}),e._v(" "),r("br"),e._v(" "),r("br")],1)},[],!1,null,"40eaaa7e",null);t.default=component.exports}}]);